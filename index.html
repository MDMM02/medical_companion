<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Medical Companion</title>
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <header class="topbar">
    <div class="topbar__inner">
      <div class="brand">
        <div class="brand__logo" aria-hidden="true">+</div>
        <div>
          <div class="brand__name">Medical Companion</div>
          <div class="brand__tag">Body map · Symptoms · Rule-based guidance</div>
        </div>
      </div>

      <button class="btn btn--ghost" id="btnReset" type="button">Reset</button>
    </div>
  </header>

  <main class="layout">
    <!-- LEFT: BODY -->
    <section class="card">
      <div class="card__header">
        <h2>Where does it hurt?</h2>
        <p class="muted">Choose a mode (Body Parts or Muscles), pick Front/Back, then click a region.</p>

        <div class="toggleRow">
          <!-- Layer: Body Parts vs Muscles -->
          <div class="seg" role="tablist" aria-label="Layer">
            <button id="btnLayerParts" class="segBtn is-active" type="button" role="tab" aria-selected="true">
              Body Parts
            </button>
            <button id="btnLayerMuscles" class="segBtn" type="button" role="tab" aria-selected="false">
              Muscles
            </button>
          </div>

          <!-- View: Front vs Back -->
          <div class="seg" role="tablist" aria-label="View">
            <button id="btnViewFront" class="segBtn is-active" type="button" role="tab" aria-selected="true">
              Front
            </button>
            <button id="btnViewBack" class="segBtn" type="button" role="tab" aria-selected="false">
              Back
            </button>
          </div>
        </div>
      </div>

      <div class="bodyWrap" aria-label="Clickable human body map">
        <div class="bodyStack" id="bodyStack">
          <!-- background image (visual only) -->
          <img id="bodyImg" class="bodyImg" src="./front.jpg" alt="" aria-hidden="true" />

          <!-- SVG injected here (one of 4 depending on toggles) -->
          <div id="svgHost" class="svgHost" aria-label="Interactive layer"></div>
        </div>

        <div class="bodyHint">
          Selected: <span class="pill" id="selectedPart">None</span>
          <span class="pill pill--soft" id="selectedMeta">—</span>
        </div>
      </div>

      <div class="card__footer">
        <div class="grid2">
          <div>
            <label class="label" for="painLevel">Pain level (0–10)</label>
            <input id="painLevel" class="range" type="range" min="0" max="10" value="0" />
            <div class="rangeRow">
              <span class="muted">0</span>
              <span class="pill" id="painValue">0</span>
              <span class="muted">10</span>
            </div>
          </div>

          <div>
            <label class="label" for="painType">Pain type</label>
            <select id="painType" class="input">
              <option value="">Select…</option>
              <option>Sharp</option>
              <option>Dull</option>
              <option>Burning</option>
              <option>Cramping</option>
              <option>Throbbing</option>
              <option>Stiffness</option>
            </select>
          </div>
        </div>

        <div class="row">
          <label class="label" for="notes">Extra notes</label>
          <textarea id="notes" class="input" rows="3" placeholder="e.g., started 2 days ago, worse at night, after sport, nausea…"></textarea>
        </div>
      </div>
    </section>

    <!-- RIGHT: SYMPTOMS + PROFILE + RESULTS -->
    <section class="card">
      <div class="card__header">
        <h2>Symptoms & questions</h2>
        <p class="muted">Prototype only. Not a diagnosis. Use for orientation & summary.</p>
      </div>

      <!-- Symptoms -->
      <div class="block">
        <div class="block__head">
          <h3>Symptoms</h3>
          <div class="muted small">Click to add/remove</div>
        </div>

        <div class="chips" id="symptomChips"></div>

        <div class="row inline">
          <input class="input" id="customSymptom" placeholder="Add custom symptom (enter) e.g., fever" />
          <button class="btn" id="btnAddCustom" type="button">Add</button>
        </div>

        <div class="selectedList" id="selectedSymptoms"></div>
      </div>

      <!-- Profile -->
      <div class="block">
        <div class="block__head">
          <h3>Quick profile</h3>
          <div class="muted small">Used only to refine suggestion</div>
        </div>

        <div class="grid2">
          <div>
            <label class="label" for="weight">Weight (kg)</label>
            <input class="input" id="weight" type="number" min="0" step="0.1" placeholder="e.g., 62" />
          </div>
          <div>
            <label class="label" for="height">Height (cm)</label>
            <input class="input" id="height" type="number" min="0" step="1" placeholder="e.g., 169" />
          </div>

          <div>
            <label class="label" for="sports">Sports per week</label>
            <select id="sports" class="input">
              <option value="">Select…</option>
              <option value="0">0</option>
              <option value="1-2">1–2</option>
              <option value="3-5">3–5</option>
              <option value="6+">6+</option>
            </select>
          </div>

          <div>
            <label class="label" for="smoker">Smoker</label>
            <select id="smoker" class="input">
              <option value="">Select…</option>
              <option value="no">No</option>
              <option value="yes">Yes</option>
              <option value="vape">Vape</option>
              <option value="former">Former</option>
            </select>
          </div>

          <div>
            <label class="label" for="sex">Sex</label>
            <select id="sex" class="input">
              <option value="">Select…</option>
              <option value="female">Female</option>
              <option value="male">Male</option>
              <option value="other">Other / Prefer not</option>
            </select>
          </div>

          <div id="contraceptionWrap" class="hidden">
            <label class="label" for="contraception">Contraception (optional)</label>
            <select id="contraception" class="input">
              <option value="">Select…</option>
              <option>IUD (hormonal)</option>
              <option>IUD (copper)</option>
              <option>Pill</option>
              <option>Implant</option>
              <option>Patch / ring</option>
              <option>None</option>
            </select>
          </div>

          <div class="gridSpan2">
            <label class="label" for="food">Food intake today</label>
            <select id="food" class="input">
              <option value="">Select…</option>
              <option value="normal">Normal</option>
              <option value="low">Low appetite</option>
              <option value="nausea">Nausea / vomiting</option>
              <option value="overeat">Overate</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Results -->
      <div class="block">
        <div class="block__head">
          <h3>Suggestion</h3>
          <div class="muted small">Rule-based demo output</div>
        </div>

        <div class="result" id="resultBox">
          <div class="result__row">
            <div class="result__label">Possible causes</div>
            <div class="result__value" id="possibleCauses">—</div>
          </div>
          <div class="result__row">
            <div class="result__label">Suggested doctor</div>
            <div class="result__value" id="suggestedDoctor">—</div>
          </div>
          <div class="result__row">
            <div class="result__label">Next steps</div>
            <div class="result__value" id="nextSteps">—</div>
          </div>
          <div class="result__row">
            <div class="result__label">When to seek urgent care</div>
            <div class="result__value" id="urgentCare">—</div>
          </div>
        </div>

        <div class="row inline">
          <button class="btn btn--primary" id="btnAnalyze" type="button">Analyze</button>
          <button class="btn" id="btnExport" type="button">Export summary</button>
        </div>

        <pre class="summary" id="summaryOut" aria-live="polite"></pre>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="muted small">
      Prototype only. If symptoms are severe or worsening, contact local emergency services or a clinician.
    </div>
  </footer>

  <script src="./script.js"></script>
</body>
</html>